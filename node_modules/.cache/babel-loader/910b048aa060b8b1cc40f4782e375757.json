{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _cloneDeep2 = _interopRequireDefault(require(\"lodash/cloneDeep\"));\n\nvar _isUndefined2 = _interopRequireDefault(require(\"lodash/isUndefined\"));\n\nvar _times2 = _interopRequireDefault(require(\"lodash/times\"));\n\nvar _getBorderCharacters = _interopRequireDefault(require(\"./getBorderCharacters\"));\n\nvar _validateConfig = _interopRequireDefault(require(\"./validateConfig\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n/**\n * Merges user provided border characters with the default border (\"honeywell\") characters.\n *\n * @param {Object} border\n * @returns {Object}\n */\n\n\nvar makeBorder = function makeBorder() {\n  var border = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.assign({}, (0, _getBorderCharacters[\"default\"])('honeywell'), border);\n};\n/**\n * Creates a configuration for every column using default\n * values for the missing configuration properties.\n *\n * @param {number} columnCount\n * @param {Object} columns\n * @param {Object} columnDefault\n * @returns {Object}\n */\n\n\nvar makeColumns = function makeColumns(columnCount) {\n  var columns = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var columnDefault = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  (0, _times2[\"default\"])(columnCount, function (index) {\n    if ((0, _isUndefined2[\"default\"])(columns[index])) {\n      columns[index] = {};\n    }\n\n    columns[index] = Object.assign({\n      alignment: 'left',\n      paddingLeft: 1,\n      paddingRight: 1,\n      truncate: Infinity,\n      wrapWord: false\n    }, columnDefault, columns[index]);\n  });\n  return columns;\n};\n/**\n * @typedef {Object} columnConfig\n * @property {string} alignment\n * @property {number} width\n * @property {number} truncate\n * @property {number} paddingLeft\n * @property {number} paddingRight\n */\n\n/**\n * @typedef {Object} streamConfig\n * @property {columnConfig} columnDefault\n * @property {Object} border\n * @property {columnConfig[]}\n * @property {number} columnCount Number of columns in the table (required).\n */\n\n/**\n * Makes a new configuration object out of the userConfig object\n * using default values for the missing configuration properties.\n *\n * @param {streamConfig} userConfig\n * @returns {Object}\n */\n\n\nvar makeStreamConfig = function makeStreamConfig() {\n  var userConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  (0, _validateConfig[\"default\"])('streamConfig.json', userConfig);\n  var config = (0, _cloneDeep2[\"default\"])(userConfig);\n\n  if (!config.columnDefault || !config.columnDefault.width) {\n    throw new Error('Must provide config.columnDefault.width when creating a stream.');\n  }\n\n  if (!config.columnCount) {\n    throw new Error('Must provide config.columnCount.');\n  }\n\n  config.border = makeBorder(config.border);\n  config.columns = makeColumns(config.columnCount, config.columns, config.columnDefault);\n  return config;\n};\n\nvar _default = makeStreamConfig;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}